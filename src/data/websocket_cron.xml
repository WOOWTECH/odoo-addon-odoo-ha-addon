<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- WebSocket 服務監控 Cron Job -->
        <record id="cron_websocket_service_monitor" model="ir.cron">
            <field name="name">Home Assistant WebSocket Service Monitor</field>
            <field name="model_id" ref="model_ha_entity"/>
            <field name="state">code</field>
            <field name="code">model._cron_ensure_websocket_service()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">minutes</field>
            <field name="active" eval="True"/>
            <field name="user_id" ref="base.user_root"/>
        </record>

        <!-- Device Related Items Sync Cron Job -->
        <record id="cron_device_related_items_sync" model="ir.cron">
            <field name="name">Sync Device Related Items (Automations/Scripts/Scenes)</field>
            <field name="model_id" ref="model_ha_device"/>
            <field name="state">code</field>
            <field name="code">model._cron_sync_related_items()</field>
            <field name="interval_number">15</field>
            <field name="interval_type">minutes</field>
            <field name="active" eval="True"/>
            <field name="user_id" ref="base.user_root"/>
        </record>

        <!--
        註解說明：
        - name: Cron Job 顯示名稱
        - model_id: 目標模型 (ha.entity / ha.device)
        - state: 執行方式 (code = 執行程式碼)
        - code: 要執行的程式碼
        - interval_number: 間隔數值 (1 分鐘 / 15 分鐘)
        - interval_type: 間隔類型 (minutes)
        - numbercall: 執行次數 (-1 = 無限)
        - active: 是否啟用
        - doall: 是否執行所有錯過的執行
        - user_id: 執行用戶 (root)
        -->

    </data>
</odoo>