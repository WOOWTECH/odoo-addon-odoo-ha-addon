# Internationalization (i18n) Support

This document describes the multi-language support implementation for the Odoo HA Addon.

## Overview

The addon implements full multi-language support following Odoo 18's standard i18n mechanism.

| Setting | Value |
|---------|-------|
| **Default Language** | English (en_US) |
| **Supported Languages** | Traditional Chinese (zh_TW) |
| **Translation Coverage** | 100% (all user-facing strings translated) |

## Translation Files

- **Template**: `i18n/odoo_ha_addon.pot` - Base translation template (English)
- **Traditional Chinese**: `i18n/zh_TW.po` - Complete Chinese translations

## Key Features

- **Automatic Loading**: Translations are read directly from `.po` files at runtime (Odoo 18 feature)
- **No Database Import**: No need to manually load translations into `ir.translation` table
- **Runtime Switching**: Users can switch languages via Settings > Users & Companies > Preferences
- **Complete Coverage**: All UI elements, notifications, and error messages are translatable

## Adding New Translations

When adding new user-facing strings to the code:

### Step 1: Use English in XML/Python

```xml
<!-- views/example.xml -->
<field name="name" string="Your New Feature"/>
```

### Step 2: Update POT template

`i18n/odoo_ha_addon.pot`:
```po
#. module: odoo_ha_addon
#: model:ir.model.fields,field_description:odoo_ha_addon.field_example
msgid "Your New Feature"
msgstr ""
```

### Step 3: Add translations

`i18n/zh_TW.po`:
```po
#. module: odoo_ha_addon
#: model:ir.model.fields,field_description:odoo_ha_addon.field_example
msgid "Your New Feature"
msgstr "您的新功能"
```

### Step 4: Update module

```bash
docker compose restart web
docker compose exec web odoo -d odoo -u odoo_ha_addon --dev xml
```

## Translation Statistics

Current translation coverage (as of 2025-11-25):

| Language | Translated | Fuzzy | Untranslated | Coverage |
|----------|-----------|-------|--------------|----------|
| English (en_US) | - | - | - | 100% (base) |
| Traditional Chinese (zh_TW) | 371 | 0 | 0 | 100% |

## Best Practices

1. **Always use English as XML keys**: Never hardcode non-English text in XML/Python files
2. **Keep translations synchronized**: Update all `.po` files when adding new `msgid` entries
3. **Use descriptive context comments**: Add `#.` comments to help translators understand context
4. **Test language switching**: Verify all translations display correctly after switching languages
5. **Follow PO format standards**: Maintain proper gettext format for compatibility

## Technical Reference

For complete implementation details, see:
- **`docs/tasks/i18n-implementation.md`** - Full implementation process and technical decisions
- **`docs/tasks/i18n-test-report.md`** - Comprehensive test report (10 tests, 100% pass rate)

## Key Discovery

Odoo 18 no longer uses `ir.translation` database table. Translations are read directly from `.po` files, eliminating the need for manual database loading steps documented in older Odoo tutorials.
