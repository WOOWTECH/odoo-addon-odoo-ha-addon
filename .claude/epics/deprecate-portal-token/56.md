---
name: 更新 View 層
status: open
created: 2026-01-17T18:30:35Z
updated: 2026-01-17T18:38:39Z
github: https://github.com/WOOWTECH/odoo-addons/issues/56
depends_on: []
parallel: true
conflicts_with: []
---

# Task: 更新 View 層

## Description

從 Entity 和 Entity Group 的 form view 中移除「Share via Link」按鈕。保留「Share」按鈕（user-based sharing）。

## Acceptance Criteria

- [ ] `views/ha_entity_views.xml` 移除 "Share via Link" 按鈕
- [ ] `views/ha_entity_group_views.xml` 移除 "Share via Link" 按鈕
- [ ] 確認 "Share" 按鈕（action_share）保留
- [ ] XML 語法正確

## Technical Details

### ha_entity_views.xml 修改

**移除按鈕**（搜尋 `action_share_portal` 或 `Share via Link`）：
```xml
<!-- 刪除此按鈕 -->
<button name="action_share_portal" type="object" string="Share via Link"
        class="btn-secondary" icon="fa-link"
        attrs="{'invisible': [('id', '=', False)]}"/>
```

**保留按鈕**：
```xml
<!-- 保留此按鈕 -->
<button name="action_share" type="object" string="Share"
        .../>
```

### ha_entity_group_views.xml 修改

**移除按鈕**（搜尋 `action_share_portal` 或 `Share via Link`）：
```xml
<!-- 刪除此按鈕 -->
<button name="action_share_portal" type="object" string="Share via Link"
        class="btn-secondary" icon="fa-link"
        attrs="{'invisible': [('id', '=', False)]}"/>
```

## Effort Estimate

- Size: XS
- Hours: 0.1
- Parallel: true

## Definition of Done

- [ ] Share via Link 按鈕從兩個視圖移除
- [ ] Share 按鈕保留
- [ ] XML 語法正確
- [ ] grep 驗證無 action_share_portal 引用
