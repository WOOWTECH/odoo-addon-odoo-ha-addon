---
name: E2E 測試驗證 UI 顯示正確
status: closed
created: 2026-01-18T14:40:18Z
updated: 2026-01-18T14:51:13Z
github: [Will be updated when synced to GitHub]
depends_on: [001]
parallel: false
conflicts_with: []
---

# Task: E2E 測試驗證 UI 顯示正確

## Description

使用 Playwright MCP 驗證 Share Wizard 的「Already shared with」提示訊息區塊顯示為單行，且 `invisible` 條件邏輯正常運作。

## Acceptance Criteria

- [ ] 當有已分享記錄時，提示訊息區塊顯示為單行
- [ ] icon、文字、使用者名稱、數量在同一行
- [ ] 當 existing_share_count == 0 時，區塊正確隱藏
- [ ] Share Wizard 其他功能正常運作

## Technical Details

### 測試步驟

1. 以 admin 登入 (`http://localhost/web/login`)
2. 導航到 Entity Group 列表 (`/web#model=ha.entity.group&view_type=list`)
3. 選擇一個已有分享記錄的 Entity Group
4. 點擊 Share 按鈕開啟 wizard
5. 使用 `browser_snapshot` 確認「Already shared with」區塊顯示格式
6. 驗證所有元素在同一行

### 負面測試

1. 選擇一個沒有分享記錄的 Entity Group
2. 點擊 Share 按鈕開啟 wizard
3. 確認「Already shared with」區塊不顯示

### 測試環境

| 項目 | 值 |
|------|-----|
| URL | http://localhost |
| Database | odoo |
| Username | admin |
| Password | admin |

## Dependencies

- [ ] Task 001 完成（XML 修改）
- [ ] Docker container 重啟完成
- [ ] 有已分享記錄的測試資料

## Effort Estimate

- Size: XS
- Hours: 0.25
- Parallel: false

## Definition of Done

- [ ] 正向測試通過（有分享記錄時顯示單行）
- [ ] 負向測試通過（無分享記錄時隱藏）
- [ ] Share Wizard 完整流程測試通過
